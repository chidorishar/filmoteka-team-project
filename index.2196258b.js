!function(){function t(t,e,i,a){Object.defineProperty(t,e,{get:i,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},s=e.parcelRequire4383;null==s&&((s=function(t){if(t in i)return i[t].exports;if(t in a){var e=a[t];delete a[t];var s={id:t,exports:{}};return i[t]=s,e.call(s.exports,s,s.exports),s.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){a[t]=e},e.parcelRequire4383=s),s.register("gRpj2",(function(e,i){t(e.exports,"GalleryAPI",(function(){return B}));var a=s("c2Cyf"),n=s("4TiSG"),r=s("j9EsD");function o(t,e){h(t,e),e.add(t)}function l(t,e,i){h(t,e),e.set(t,i)}function h(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function u(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,g(t,e,"get"))}function d(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,g(t,e,"set"),i),i}function g(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var v=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,w=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,P=new WeakMap,y=new WeakMap,M=new WeakMap,S=new WeakMap,I=new WeakMap,T=new WeakMap,k=new WeakMap,O=new WeakMap,D=new WeakSet,L=new WeakSet,A=new WeakMap,W=new WeakSet,N=new WeakSet;class B{addOnCardClickCallback(t){u(this,f).addEventListener("click",t)}removeOnCardClickCallback(t){u(this,f).removeEventListener("click",t)}addOnCriticalImagesLoadedCallback(t){u(this,w).push(t)}removeOnCriticalImagesLoadedCallback(t){d(this,w,u(this,w).filter((e=>e!==t)))}renderMoviesCards(t){d(this,_,t),u(this,P).show(),window.matchMedia("(max-width: 1280px)").matches&&d(this,S,2),window.matchMedia("(max-width: 768px)").matches&&(d(this,S,1),d(this,I,2)),d(this,T,u(this,S));let e=0,i=!1;c(this,N,R).call(this);const a=t.reduce(((t,a,s,n)=>{var r,o;const{markup:l,hasPoster:h}=c(this,D,C).call(this,a,null===(r=n[s-1])||void 0===r?void 0:r.id,null===(o=n[s+1])||void 0===o?void 0:o.id,!i);return h&&e++,e!==u(this,T)||i||(i=!0),t+l}),"");e<u(this,T)&&d(this,T,e),d(this,p,e),u(this,f).innerHTML=a,e?(c(this,W,x).call(this),d(this,k,[...document.querySelectorAll(`.${u(this,y)}[data-src]`)])):u(this,P).hide()}get currentRenderedMoviesData(){return u(this,_)}constructor(t,e=!1,i=(()=>{}),a=(()=>{})){o(this,N),o(this,W),o(this,L),o(this,D),l(this,v,{writable:!0,value:0}),l(this,p,{writable:!0,value:0}),l(this,m,{writable:!0,value:""}),l(this,f,{writable:!0,value:null}),l(this,w,{writable:!0,value:[]}),l(this,b,{writable:!0,value:null}),l(this,E,{writable:!0,value:null}),l(this,_,{writable:!0,value:null}),l(this,P,{writable:!0,value:null}),l(this,y,{writable:!0,value:"movie-card__img"}),l(this,M,{writable:!0,value:null}),l(this,S,{writable:!0,value:3}),l(this,I,{writable:!0,value:3}),l(this,T,{writable:!0,value:null}),l(this,k,{writable:!0,value:null}),l(this,O,{writable:!0,value:t=>{const e=t.target.closest("a"),i=t.target.nodeName;if(t.preventDefault(),!e)return;const a=e.dataset.movieId;"BUTTON"!==i?Promise.resolve((()=>{u(this,E).call(this,a)})()):Promise.resolve((()=>{u(this,b).call(this,a)})())}}),l(this,A,{writable:!0,value:t=>{var e;const i=t.target;if("#"===i.getAttribute("src"))return;d(this,v,(e=u(this,v),e++,e));const a=u(this,I),s=u(this,T);if(i.removeEventListener("load",u(this,A)),!(u(this,v)<s||u(this,v)!==s&&(u(this,v)-s)%a&&!(u(this,p)-u(this,v)<a))){var n;let t=0;for(;t<a&&(null===(n=u(this,k))||void 0===n?void 0:n.length);){const e=u(this,k).shift(),i=e.closest(".movie-card__img-thumb"),a=e.dataset.src;e.removeAttribute("data-src"),e.src=a,i.classList.remove("movie-card__img-thumb--img-loading"),t++}}u(this,v)===s&&u(this,p)&&(u(this,P).hide(),u(this,w).forEach((t=>t())));const r=i.closest(".movie-card__img-thumb");"error"===t.type&&setTimeout((()=>{i.complete||null==r||r.classList.add("movie-card__img-thumb--img-fallback")}),250)}}),d(this,f,document.querySelector(t)),d(this,M,e),d(this,E,i),d(this,b,a),d(this,m,n.BackendConfigStorage.pathToPoster),d(this,P,new(0,r.Spinner)(".gallery","loader-gallery")),u(this,f).addEventListener("click",u(this,O))}}function C({poster_path:t,title:e,name:i,genre_ids:a,vote_average:s,release_date:n,first_air_date:r,id:o},l,h,d){var g,v;const p=null!==(v=null===(g=null!=n?n:r)||void 0===g?void 0:g.slice(0,4))&&void 0!==v?v:"",f=s?Number(s).toFixed(1):"N/D";let w=c(this,L,$).call(this,a);const b=null!=e?e:i,E=!!t,_=E&&d,P=t?`<img\n        class="${u(this,y)}"\n        ${_?`src="${u(this,m)}w500${t}"`:`src="#" data-src="${u(this,m)}w500${t}"`}\n        alt="Poster of the ${b} movie"\n      />`:`<span class="movie-card__poster-placeholder">\n        <span class="movie-card__placeholder-title-wrapper">\n          <span class="movie-card__poster-placeholder--title">\n           ${b}\n          </span>\n        </span>\n      has no poster\n      </span>`;return{markup:`<li class="movie-card">\n        <a class="movie-card__link" href="/" data-movie-id="${o}" \n          data-prev-movie-id="${null!=l?l:""}" data-next-movie-id="${null!=h?h:""}">\n          <div class="movie-card__img-thumb ${(E?"":"movie-card__img-thumb--no-poster")+" "+(E&&!_?"movie-card__img-thumb--img-loading":"")}"\n            >\n            ${u(this,M)?'<button\n          aria-label="Delete movie from library"\n          class="movie-card__delete-button"\n          data-modal-close\n        >\n          <svg class="movie-card__icon" viewBox="0 0 32 32" width="10" height="10">\n            <path d="M31.439 3.166l-3.166-3.166-12.554 12.552-12.552-12.552-3.166 3.166 12.552 12.552-12.552 12.554 3.166 3.166 12.552-12.554 12.554 12.554 3.166-3.166-12.554-12.554 12.554-12.552z"></path>          </svg>\n        </button>':""}\n            ${P}\n          </div>\n          <h3 class="movie-card__title">${b}</h3>\n          <ul class="movie-card__movie-info-wrapper">\n            <li class="movie-card__item movie-card__item--hidden-overflow">\n              <p class="movie-card__genres">${w}</p>\n            </li>\n            <li class="movie-card__item">\n              <p class="movie-card__release-date">${w?"&nbsp;|&nbsp":""}${p}</p>\n            </li>\n            <li class="movie-card__item movie-card__item--accent">\n              <p class="movie-card__rating">${f}</p>\n            </li>\n          </ul>\n        </a>\n      </li>`,hasPoster:E}}function $(t){if(!(null==t?void 0:t.length))return"";const e=t.length>2,i=e?t.slice(0,2):t;let s=a.IDsParser.idsToGenres(i);return s+=e?", Other":"",s}function x(){[...document.querySelectorAll(`.${u(this,y)}`)].forEach((t=>{t.addEventListener("load",u(this,A)),t.addEventListener("error",u(this,A))}))}function R(){const t=document.querySelectorAll(`.${u(this,y)}`);d(this,v,0),[...t].forEach((t=>{t.removeEventListener("load",u(this,A)),t.removeEventListener("error",u(this,A))}))}})),s.register("c2Cyf",(function(e,i){t(e.exports,"IDsParser",(function(){return r}));var a=s("4TiSG");function n(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}class r{static idsToGenres(t){return t?t.reduce(((t,e)=>{const i=n(this,r,o).call(this,e);return i?t+=`${i}, `:t}),"").slice(0,-2):""}constructor(){}}function o(t){var e,i;return null===(i=null===(e=a.BackendConfigStorage.genresAndIDs)||void 0===e?void 0:e.find((({id:e})=>e===t)))||void 0===i?void 0:i.name}})),s.register("4TiSG",(function(e,i){t(e.exports,"BackendConfigStorage",(function(){return u}));var a=s("jJYTc"),n=s("ioSsP");function r(t,e,i,a){return c(t,e),h(i,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,i,a),a}function o(t,e,i){return c(t,e),i}function l(t,e,i){return c(t,e),h(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function h(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function c(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}class u{static async init(){const t=l(this,u,v),e=l(this,u,p),i=l(this,u,m);let a=l(this,u,w),s=l(this,u,f);null!=a||(a=sessionStorage.getItem(t)),null!=s||(s=(0,n.readFromLocalStorage)(e)),a||(a=await o(this,u,d).call(this,i.PATH),sessionStorage.setItem(t,a)),s||(s=await o(this,u,d).call(this,i.GENRES_IDS),localStorage.setItem(e,JSON.stringify(s))),r(this,u,w,a),r(this,u,f,s)}static get genresAndIDs(){return l(this,u,f)}static get pathToPoster(){return l(this,u,w)}constructor(){}}async function d(t){let e=null;try{e=t===l(this,u,m).PATH?(await l(this,u,g).getConfiguration()).images.secure_base_url:(await l(this,u,g).getGenresData()).genres}catch(t){console.log(t.message)}return e}var g={writable:!0,value:new(0,a.TMDBAPI)},v={writable:!0,value:"PP-KEY"},p={writable:!0,value:"genres-data"},m={writable:!0,value:{PATH:"path",GENRES_IDS:"gi"}},f={writable:!0,value:null},w={writable:!0,value:null}})),s.register("jJYTc",(function(e,i){function a(t,e){n(t,e),e.add(t)}function s(t,e,i){n(t,e),e.set(t,i)}function n(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function o(t,e){var i=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}(t,e,"get");return function(t,e){return e.get?e.get.call(t):e.value}(t,i)}t(e.exports,"TMDBAPI",(function(){return p}));var l=new WeakMap,h=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,g=new WeakSet,v=new WeakSet;class p{async getConfiguration(){const t=`${o(this,h)}/configuration?api_key=${o(this,l)}`;return await r(this,v,f).call(this,t)}async getGenresData(){let t=[],e=`${o(this,h)}/genre/movie/list?api_key=${o(this,l)}&language=en-US`;return t=(await r(this,v,f).call(this,e)).genres,e=`${o(this,h)}/genre/tv/list?api_key=${o(this,l)}&language=en-US`,t={genres:[...t,...(await r(this,v,f).call(this,e)).genres]},t}async getMoviesByName(t){t&&(o(this,u).name=t,o(this,u).page=1);return await r(this,g,m).call(this,o(this,c).NAME)}async getMoviesByNameFromPage(t){return o(this,u).page=t,await this.getMoviesByName("")}async getTopMovies(){o(this,u).name="";return await r(this,g,m).call(this,o(this,c).TOP)}async getTopMoviesFromPage(t){return o(this,d).page=t,await this.getTopMovies()}get currentPageByName(){return o(this,u).page}get currentPageByTop(){return o(this,d).page}get lastSearchedName(){return o(this,u).name}constructor(){a(this,v),a(this,g),s(this,l,{writable:!0,value:"a7cdca3ac9a73d688c9dec2c3c2e067b"}),s(this,h,{writable:!0,value:"https://api.themoviedb.org/3"}),s(this,c,{writable:!0,value:{TOP:"TOP",NAME:"NAME"}}),s(this,u,{writable:!0,value:{URL:`${o(this,h)}/search/movie`,includeAdult:!1,name:"",page:1}}),s(this,d,{writable:!0,value:{URL:`${o(this,h)}/trending/all`,timeWindow:"week",page:1}})}}async function m(t){const e=o(this,u),i=o(this,d),a=t===o(this,c).TOP?`${i.URL}/${i.timeWindow}?api_key=${o(this,l)}&page=${i.page}`:`${e.URL}?api_key=${o(this,l)}&page=${e.page}&query=${e.name}\n          &include_adult=${e.includeAdult}`;return await r(this,v,f).call(this,a)}async function f(t){const e=await fetch(t);if(200===e.status)return e.json();throw new Error(e.statusText)}})),s.register("ioSsP",(function(e,i){function a(t){return s(localStorage.getItem(t))}function s(t){try{return JSON.parse(t)}catch(t){return null}}t(e.exports,"readFromLocalStorage",(function(){return a}))})),s.register("j9EsD",(function(e,i){function a(t,e,i){s(t,e),e.set(t,i)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,o(t,e,"get"))}function r(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,o(t,e,"set"),i),i}function o(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}t(e.exports,"Spinner",(function(){return b}));var l,h,c,u=new WeakMap,d=new WeakMap,g=new WeakMap,v=new WeakMap,p=new WeakMap,m=new WeakMap,f=new WeakMap,w=new WeakSet;class b{show(){const t=window.innerHeight/2;this.setDeltaY(t),r(this,p,n(this,u).style.position),n(this,u).style.position="relative",n(this,d).style.display="flex",n(this,d).style.opacity=1}hide(){n(this,d).style.opacity=0,setTimeout((()=>{n(this,d).style.display="none",n(this,u).style.position=n(this,p)}),n(this,m))}setDeltaY(t){n(this,g).style.top=`${t}px`}constructor(t,e,i=b.POSITION_MODE.STICKY_CENTRED){var n,o;s(n=this,o=w),o.add(n),a(this,u,{writable:!0,value:null}),a(this,d,{writable:!0,value:null}),a(this,g,{writable:!0,value:null}),a(this,v,{writable:!0,value:null}),a(this,p,{writable:!0,value:null}),a(this,m,{writable:!0,value:250}),a(this,f,{writable:!0,value:null}),r(this,u,document.querySelector(t)),r(this,v,e),r(this,f,i),function(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(this,w,E).call(this),r(this,d,document.querySelector(`.${e}`)),r(this,g,document.querySelector(`.${e} .loader__spinner`)),this.hide()}}function E(){const t=`<div class="${n(this,v)}"\n        style="\n          position: absolute; \n          top: 0px; \n          left: 0px;\n          z-index: 2;\n          display: flex; \n          justify-content: center;\n          ${n(this,f)===b.POSITION_MODE.FLEX_CENTRED?"align-items: center;":""}\n          width: 100%;\n          height: 100%; \n          transition: opacity ${n(this,m)}ms ease-in-out;\n          background-color: var(--bg-color);\n          ">\n        <div class="loader__spinner" \n          style="\n            ${n(this,f)===b.POSITION_MODE.FLEX_CENTRED?"":"position: sticky;"}\n        ">\n        </div>\n      </div>`;n(this,u).insertAdjacentHTML("beforeend",t)}c={FLEX_CENTRED:"f-c",STICKY_CENTRED:"s-c"},(h="POSITION_MODE")in(l=b)?Object.defineProperty(l,h,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[h]=c})),s.register("5OHSn",(function(e,i){t(e.exports,"LDStorageAPI",(function(){return u}));var a=s("ioSsP");function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e,i){return c(t,e),i}function o(t,e,i){return c(t,e),h(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function l(t,e,i,a){return c(t,e),h(i,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,i,a),a}function h(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function c(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}class u{static init(t=!1){var e,i;l(this,u,b,null!==(e=(0,a.readFromLocalStorage)(this.MOVIE_INFO.WATCHED))&&void 0!==e?e:{}),l(this,u,E,null!==(i=(0,a.readFromLocalStorage)(this.MOVIE_INFO.QUEUED))&&void 0!==i?i:{}),l(this,u,w,t),t&&(l(this,u,f,this.MOVIE_INFO.WATCHED),l(this,u,m,[...Object.values(o(this,u,b))]),o(this,u,p).totalPages=r(this,u,g).call(this))}static getTotalPages(){return o(this,u,p).totalPages=r(this,u,g).call(this),o(this,u,p).totalPages}static getMoviesByPage(t){o(this,u,p).page=t;return r(this,u,d).call(this)}static updateActiveStorage(t=""){switch(t||(t=o(this,u,f)),l(this,u,f,t),t){case this.MOVIE_INFO.QUEUED:l(this,u,m,[...Object.values(o(this,u,E))]);break;case this.MOVIE_INFO.WATCHED:l(this,u,m,[...Object.values(o(this,u,b))]);break;case this.MOVIE_INFO.SEARCHED:l(this,u,m,o(this,u,_))}}static searchMoviesByName(t,e){if(!o(this,u,m))return;const i=[...Object.values(e===this.MOVIE_INFO.WATCHED?o(this,u,b):o(this,u,E))].filter((e=>(e.title?e.title:e.name).toLowerCase().includes(t.toLowerCase())));return this.lastSearchRequest=t,l(this,u,_,i),this.updateActiveStorage(),i}static addToLocalStorage({id:t,movieData:e,storageKey:i}={}){const a=r(this,u,v);try{i===this.MOVIE_INFO.WATCHED?(o(this,u,b)[""+t]=e,a(i,o(this,u,b))):i===this.MOVIE_INFO.QUEUED&&(o(this,u,E)[""+t]=e,a(i,o(this,u,E)))}catch(t){console.log(t.message)}o(this,u,w)&&this.updateActiveStorage()}static removeFromLocalStorage(t,e){const i=r(this,u,v);e===this.MOVIE_INFO.WATCHED?(delete o(this,u,b)[""+t],i(e,o(this,u,b))):e===this.MOVIE_INFO.QUEUED&&(delete o(this,u,E)[""+t],i(e,o(this,u,E))),o(this,u,w)&&this.updateActiveStorage()}static findInLocalStorage(t){return{watched:!!o(this,u,b)[""+t],queued:!!o(this,u,E)[""+t]}}}function d(){let t=(o(this,u,p).page-1)*o(this,u,p).MOVIES_PER_PAGE,e=o(this,u,p).page*o(this,u,p).MOVIES_PER_PAGE;return o(this,u,m).slice(t,e)}function g(){const t=o(this,u,m).length/o(this,u,p).MOVIES_PER_PAGE;return Math.ceil(t)}function v(t,e){const i=JSON.stringify(e);localStorage.setItem(t,i)}n(u,"MOVIE_INFO",{WATCHED:"watched",QUEUED:"queued",SEARCHED:"searched"}),n(u,"lastSearchRequest",null);var p={writable:!0,value:{page:1,totalPages:null,MOVIES_PER_PAGE:18}},m={writable:!0,value:null},f={writable:!0,value:null},w={writable:!0,value:null},b={writable:!0,value:{}},E={writable:!0,value:{}},_={writable:!0,value:[]}})),s.register("4yfm1",(function(e,i){function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e,i,a){return l(t,e),r(i,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,i,a),a}function n(t,e,i){return l(t,e),r(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function r(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function o(t,e,i){return l(t,e),i}function l(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}t(e.exports,"PaginationAPI",(function(){return h}));class h{static changePageByOne(t){const e=t?1:-1;this.currentPage+=e}static updateCurrentPage(t){this.currentPage=t}static renderPagination(){o(this,h,c).call(this),this.paginationPagesList.innerHTML=n(this,h,A),o(this,h,_).call(this)}static onWindowResize(){h.renderPagination()}}function c(){if(s(this,h,A,""),this.totalPages?this.paginationWrapperDiv.removeAttribute("style"):this.paginationWrapperDiv.setAttribute("style","display: none"),this.currentPage===this.totalPages?(this.paginationNextBtn.disabled=!0,this.paginationPreviousBtn.disabled=!1):this.paginationPreviousBtn.disabled=!1,1===this.currentPage?(this.paginationPreviousBtn.disabled=!0,this.paginationNextBtn.disabled=!1):this.currentPage!==this.totalPages&&(this.paginationNextBtn.disabled=!1),1===this.totalPages)return this.paginationNextBtn.classList.add("pagination__btn--hidden"),this.paginationPreviousBtn.classList.add("pagination__btn--hidden"),void s(this,h,A,n(this,h,A)+n(this,h,k));if(this.paginationNextBtn.classList.remove("pagination__btn--hidden"),this.paginationPreviousBtn.classList.remove("pagination__btn--hidden"),window.innerWidth<=n(this,h,T))o(this,h,w).call(this);else if(window.innerWidth<=n(this,h,I))o(this,h,v).call(this);else if(this.totalPages<=7){s(this,h,A,n(this,h,A)+n(this,h,k));for(let t=2;t<=this.totalPages-1;t++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,t));s(this,h,A,n(this,h,A)+o(this,h,S).call(this))}else this.currentPage<=4?o(this,h,u).call(this):5!==this.currentPage?!(this.totalPages-3<=this.currentPage)||this.currentPage<=5?this.currentPage!==this.totalPages-4?this.currentPage>=6&&this.currentPage<=this.totalPages-4&&o(this,h,d).call(this):o(this,h,d).call(this):o(this,h,g).call(this):o(this,h,d).call(this)}function u(){s(this,h,A,n(this,h,A)+n(this,h,k));const t=this.totalPages>=6?5:this.totalPages;for(let e=2;e<=t;e++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,e));this.totalPages>=6&&(s(this,h,A,n(this,h,A)+n(this,h,D)),s(this,h,A,n(this,h,A)+o(this,h,S).call(this)))}function d(){if(s(this,h,A,n(this,h,A)+n(this,h,k)),s(this,h,A,n(this,h,A)+n(this,h,O)),5===this.currentPage&&this.currentPage+2>=this.totalPages){const t=this.currentPage+1>=this.totalPages?this.currentPage:this.currentPage-1;for(let e=this.currentPage-2;e<=t;e++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,e))}else{for(let t=this.currentPage-2;t<=this.currentPage+2;t++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,t));s(this,h,A,n(this,h,A)+n(this,h,D)),s(this,h,A,n(this,h,A)+o(this,h,S).call(this))}}function g(){s(this,h,A,n(this,h,A)+n(this,h,k)),s(this,h,A,n(this,h,A)+n(this,h,O));for(let t=this.totalPages-4;t<=this.totalPages;t++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,t))}function v(){if(this.totalPages<=4){s(this,h,A,n(this,h,A)+n(this,h,k));for(let t=2;t<=this.totalPages;t++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,t))}else this.currentPage<=2?o(this,h,p).call(this):3!==this.currentPage?!(this.totalPages-1<=this.currentPage)||this.currentPage<=3?this.currentPage!==this.totalPages-2?this.currentPage>=4&&this.currentPage<=this.totalPages-2&&o(this,h,m).call(this):o(this,h,m).call(this):o(this,h,f).call(this):o(this,h,m).call(this)}function p(){s(this,h,A,n(this,h,A)+n(this,h,k));const t=this.totalPages>=4?3:this.totalPages;for(let e=2;e<=t;e++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,e));this.totalPages>=4&&(s(this,h,A,n(this,h,A)+n(this,h,D)),s(this,h,A,n(this,h,A)+o(this,h,S).call(this)))}function m(){s(this,h,A,n(this,h,A)+n(this,h,k)),s(this,h,A,n(this,h,A)+n(this,h,O)),s(this,h,A,n(this,h,A)+o(this,h,M).call(this,this.currentPage)),s(this,h,A,n(this,h,A)+n(this,h,D)),s(this,h,A,n(this,h,A)+o(this,h,S).call(this))}function f(){s(this,h,A,n(this,h,A)+n(this,h,k)),s(this,h,A,n(this,h,A)+n(this,h,O));for(let t=this.totalPages-2;t<=this.totalPages;t++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,t))}function w(){if(this.totalPages<=3){s(this,h,A,n(this,h,A)+n(this,h,k));for(let t=2;t<=this.totalPages;t++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,t))}else this.currentPage<=2?o(this,h,b).call(this):!(this.totalPages-1<=this.currentPage)||this.currentPage<=2?this.currentPage>=3&&this.currentPage<=this.totalPages-2&&o(this,h,m).call(this):o(this,h,E).call(this)}function b(){s(this,h,A,n(this,h,A)+n(this,h,k));const t=this.totalPages>=3?2:this.totalPages;for(let e=2;e<=t;e++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,e));this.totalPages>=3&&(s(this,h,A,n(this,h,A)+n(this,h,D)),s(this,h,A,n(this,h,A)+o(this,h,S).call(this)))}function E(){s(this,h,A,n(this,h,A)+n(this,h,k)),s(this,h,A,n(this,h,A)+n(this,h,O));for(let t=this.totalPages-1;t<=this.totalPages;t++)s(this,h,A,n(this,h,A)+o(this,h,M).call(this,t))}function _(){o(this,h,P).call(this),o(this,h,y).call(this)}function P(){document.getElementById(`pagination-number-${this.currentPage}`).firstElementChild.classList.add("pagination__btn--active")}function y(){this.totalPages<=4?n(this,h,L).classList.remove("scroll--absolute"):n(this,h,L).classList.add("scroll--absolute"),this.totalPages>=8?this.paginationPagesList.classList.add("pagination__list--width-L"):this.paginationPagesList.classList.remove("pagination__list--width-L")}function M(t){return`<li class="pagination__item" id="pagination-number-${t}"><button class="pagination__btn" data-pagination="number">${t}</button></li>`}function S(){return`<li class="pagination__item" id="pagination-number-${this.totalPages}"><button class="pagination__btn" data-pagination="number">${this.totalPages}</button></li>`}var I={writable:!0,value:767},T={writable:!0,value:479},k={writable:!0,value:'<li class="pagination__item" id="pagination-number-1"><button class="pagination__btn" data-pagination="number">1</button></li>'},O={writable:!0,value:'<li class="pagination__item pagination__item-dots" id="pagination-dots-left">&#183;&#183;&#183;</li>'},D={writable:!0,value:'<li class="pagination__item pagination__item-dots" id="pagination-dots-right">&#183;&#183;&#183;</li>'},L={writable:!0,value:document.getElementById("js-scroll")},A={writable:!0,value:""};a(h,"currentPage",1),a(h,"totalPages",null),a(h,"paginationWrapperDiv",document.getElementById("pagination-wrapper")),a(h,"paginationPagesList",document.getElementById("pagination-pages")),a(h,"paginationNextBtn",document.getElementById("pagination-button-next")),a(h,"paginationPreviousBtn",document.getElementById("pagination-button-previous"))})),s.register("fSQZW",(function(e,i){function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e,i){return o(t,e),r(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function n(t,e,i,a){return o(t,e),r(i,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,i,a),a}function r(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function o(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}t(e.exports,"NotificationAPI",(function(){return l}));class l{static init(t,e=150){document.querySelector(t).insertAdjacentHTML("afterbegin","<ul class=\"notif-list\" id='notif-list-root'></ul>"),document.querySelector("#notif-list-root").style.top=`${e}px`,n(this,l,g,document.querySelector(".notif-list")),s(this,l,g).addEventListener("click",s(this,l,v))}constructor(){}}var h={writable:!0,value:1e4},c={writable:!0,value:250},u={writable:!0,value:0},d={writable:!0,value:{}},g={writable:!0,value:void 0};n(l,l,g,null);var v={writable:!0,value:t=>{"P"===t.target.nodeName&&l.clearNotification(t.target.dataset.notifId)}};a(l,"addNotification",((t="",e=!1,i=null)=>{var a;s(l,l,u)>100&&n(l,l,u,0),n(l,l,u,(a=s(l,l,u),a++,a)),null!=i||(i=s(l,l,h));const r=s(l,l,u),o=`\n    <li class="notif-list__item">\n      <p class="\n          notif-list__text\n          ${e?"notif-list__text--alert":""}\n          notif-list__text--is-visible" \n        data-notif-id=${r}>\n        ${t}\n      </p>\n    </li>\n    `;return s(l,l,g).insertAdjacentHTML("beforeend",o),s(l,l,d)[""+r]=setTimeout((()=>{l.clearNotification(r)}),i),r})),a(l,"clearNotification",(t=>{if(!s(l,l,d)[""+t])return;clearInterval(s(l,l,d)[""+t]),delete s(l,l,d)[""+t];const e=document.querySelector(`p[data-notif-id="${t}"]`);e.classList.remove("notif-list__text--is-visible"),setTimeout((()=>{e.closest("li").remove()}),s(l,l,c))}))})),s.register("aAR71",(function(e,i){t(e.exports,"MovieModalHandler",(function(){return $}));var a=s("c2Cyf"),n=s("4TiSG"),r=s("5OHSn"),o=s("j9EsD");function l(t,e){u(t,e),e.add(t)}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e,i){u(t,e),e.set(t,i)}function u(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function g(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,p(t,e,"get"))}function v(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,p(t,e,"set"),i),i}function p(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var m=new WeakMap,f=new WeakMap,w=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,P=new WeakMap,y=new WeakMap,M=new WeakMap,S=new WeakSet,I=new WeakSet,T=new WeakSet,k=new WeakSet,O=new WeakMap,D=new WeakSet,L=new WeakMap,A=new WeakMap,W=new WeakMap,N=new WeakMap,B=new WeakMap,C=new WeakSet;class ${constructor(t,e,i){l(this,C),l(this,D),l(this,k),l(this,T),l(this,I),l(this,S),c(this,m,{writable:!0,value:{closeBtn:document.querySelector(".modal-close"),queueBtn:document.querySelector("#queue-btn"),watchedBtn:document.querySelector("#watched-btn"),moviesNavBtnsWrapper:document.querySelector("#movies-nav-btns-wrapper"),prevMovieBtn:document.querySelector("#prev-movie-btn"),nextMovieBtn:document.querySelector("#next-movie-btn"),modalBackdrop:document.querySelector("#movies-modal-window"),libActionsBtnsWrapper:document.querySelector("#movie-modal-buttons-wrapper"),posterImgEl:document.querySelector("#poster")}}),c(this,f,{writable:!0,value:null}),c(this,w,{writable:!0,value:null}),c(this,b,{writable:!0,value:null}),c(this,E,{writable:!0,value:null}),c(this,_,{writable:!0,value:null}),c(this,P,{writable:!0,value:null}),c(this,y,{writable:!0,value:null}),h(this,"mode",null),c(this,M,{writable:!0,value:null}),h(this,"onGalleryCardClicked",(t=>{window.addEventListener("keydown",g(this,B)),g(this,m).modalBackdrop.addEventListener("click",g(this,A)),g(this,m).closeBtn.addEventListener("click",g(this,L)),g(this,m).moviesNavBtnsWrapper.addEventListener("click",g(this,N)),document.body.classList.add("js-modal-is-hidden"),v(this,w,t),d(this,S,x).call(this),d(this,I,R).call(this,g(this,b));const{posterImgEl:e}=g(this,m);e.addEventListener("load",g(this,W)),e.addEventListener("error",g(this,W))})),c(this,O,{writable:!0,value:t=>{var e;const i=g(this,f),a=d(this,D,U).call(this,t.target.id),s=i.watched!==a.watched;i.queued,a.queued;let n;n=s?i.watched?$.MOVIE_ACTIONS.REMOVED_FROM_WATCHED:$.MOVIE_ACTIONS.ADDED_TO_WATCHED:i.queued?$.MOVIE_ACTIONS.REMOVED_FROM_QUEUED:$.MOVIE_ACTIONS.ADDED_TO_QUEUED,d(this,T,q).call(this,a),v(this,f,a),null===(e=g(this,M))||void 0===e||e.call(this,n)}}),c(this,L,{writable:!0,value:()=>{const{posterImgEl:t}=g(this,m);g(this,_).hide(),window.removeEventListener("keydown",g(this,B)),g(this,m).modalBackdrop.removeEventListener("click",g(this,A)),t.removeEventListener("load",g(this,W)),t.removeEventListener("error",g(this,W)),g(this,m).modalBackdrop.classList.add("is-hidden"),document.body.classList.remove("js-modal-is-hidden")}}),c(this,A,{writable:!0,value:t=>{t.target===g(this,m).modalBackdrop&&g(this,L).call(this)}}),c(this,W,{writable:!0,value:t=>{g(this,_).hide()}}),c(this,N,{writable:!0,value:t=>{if("BUTTON"!==t.target.nodeName)return;const e="prev-movie-btn"===t.target.id?g(this,y):g(this,P);e&&(v(this,w,e),d(this,S,x).call(this),d(this,k,F).call(this),d(this,I,R).call(this,g(this,b)))}}),c(this,B,{writable:!0,value:t=>{let e=null,i=!1;switch(t.code){case"Escape":g(this,L).call(this);break;case"ArrowLeft":e=g(this,y),i=!0;break;case"ArrowRight":e=g(this,P),i=!0}i&&e&&(v(this,w,e),d(this,S,x).call(this),d(this,k,F).call(this),d(this,I,R).call(this,g(this,b)))}}),v(this,E,t),this.mode=e,v(this,M,i),v(this,_,new(0,o.Spinner)(".modal-poster","loader-movie-modal",o.Spinner.POSITION_MODE.FLEX_CENTRED)),g(this,m).libActionsBtnsWrapper.addEventListener("click",g(this,O)),g(this,m).modalBackdrop.removeAttribute("style")}}function x(t=null){null!=t||(t=document.querySelector(`a[data-movie-id="${g(this,w)}"]`)),v(this,y,t.dataset.prevMovieId),v(this,P,t.dataset.nextMovieId),v(this,f,r.LDStorageAPI.findInLocalStorage(g(this,w))),v(this,b,d(this,C,V).call(this,g(this,w)))}function R(t){const{genre_ids:e,original_title:i,name:s,poster_path:r,vote_average:o,vote_count:l,popularity:h,overview:c}=t,u=o?o.toFixed(1):"N/D",v=h?h.toFixed(1):"N/D",p=a.IDsParser.idsToGenres(e),w=n.BackendConfigStorage.pathToPoster+"w500"+r,b={moviePoster:document.getElementById("poster"),modalTitle:document.getElementById("modalTitle"),movieAverageRating:document.getElementById("averageRating"),movieRating:document.getElementById("rating"),moviePopularity:document.getElementById("popularity"),movieTitle:document.getElementById("title"),movieGenre:document.getElementById("genre"),movieAbout:document.getElementById("aboutMovie")};r&&(b.moviePoster.src=`${w}`),b.modalTitle.textContent=`${null!=i?i:s}`,b.movieAverageRating.textContent=`${u}`,b.movieRating.textContent=`${l||"N/D"}`,b.moviePopularity.textContent=`${v}`,b.movieTitle.textContent=`${null!=i?i:s}`,b.movieGenre.textContent=`${p||"N/D"}`,b.movieAbout.textContent=`${c||"Sorry, no data"}`;const E=document.getElementById("modal-placeholder"),P=document.querySelector(".modal-poster__placeholder-title"),{posterImgEl:y}=g(this,m);r?(E.classList.add("is-hidden"),y.classList.remove("is-hidden")):(E.classList.remove("is-hidden"),P.textContent=`${null!=i?i:s}`,y.classList.add("is-hidden")),r?g(this,_).show():g(this,_).hide(),d(this,T,q).call(this,g(this,f)),d(this,k,F).call(this),g(this,m).modalBackdrop.classList.remove("is-hidden")}function q({watched:t,queued:e}){g(this,m).watchedBtn.textContent=`\n  ${t?"REMOVE FROM":"ADD TO"} WATCHED`,g(this,m).queueBtn.textContent=`\n  ${e?"REMOVE FROM":"ADD TO"} QUEUE`}function F(){g(this,y)?g(this,m).prevMovieBtn.removeAttribute("disabled"):g(this,m).prevMovieBtn.setAttribute("disabled",""),g(this,P)?g(this,m).nextMovieBtn.removeAttribute("disabled"):g(this,m).nextMovieBtn.setAttribute("disabled","")}function U(t){const e={...r.LDStorageAPI.findInLocalStorage(g(this,w))};return"queue-btn"===t?(e.queued?r.LDStorageAPI.removeFromLocalStorage(g(this,w),r.LDStorageAPI.MOVIE_INFO.QUEUED):r.LDStorageAPI.addToLocalStorage({id:g(this,w),movieData:g(this,b),storageKey:r.LDStorageAPI.MOVIE_INFO.QUEUED}),e.queued=!e.queued):(e.watched?r.LDStorageAPI.removeFromLocalStorage(g(this,w),r.LDStorageAPI.MOVIE_INFO.WATCHED):r.LDStorageAPI.addToLocalStorage({id:g(this,w),movieData:g(this,b),storageKey:r.LDStorageAPI.MOVIE_INFO.WATCHED}),e.watched=!e.watched),e}function V(t){return g(this,E).currentRenderedMoviesData.find((({id:e})=>e===+t))}h($,"MODE",{HOME:"home",LIBRARY_WATCHED:"lib-watch",LIBRARY_QUEUED:"lib-queue"}),h($,"MOVIE_ACTIONS",{ADDED_TO_WATCHED:"add_wchd",REMOVED_FROM_WATCHED:"rem_wchd",ADDED_TO_QUEUED:"add_queue",REMOVED_FROM_QUEUED:"rem_queue"})})),s.register("4JddF",(function(t,e){const i={openModalLink:document.querySelector("#open-team-modal"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};let a=!1;function s(t){t.preventDefault(),n()}function n(){i.modal.classList.toggle("is-hidden"),document.body.classList.toggle("js-modal-is-hidden"),a?document.body.removeEventListener("keydown",o):document.body.addEventListener("keydown",o),a=!a}function r(t){t.target==t.currentTarget&&n()}function o(t){"Escape"===t.code&&n()}i.openModalLink.addEventListener("click",s),i.closeModalBtn.addEventListener("click",n),i.modal.addEventListener("click",r),i.modal.removeAttribute("style")})),s.register("geia1",(function(t,e){const i=document.getElementById("js-scroll");i.addEventListener("click",(()=>window.scroll(0,0))),window.addEventListener("scroll",(function(t){t.preventDefault(),window.scrollY<320?i.classList.remove("scroll--isShown"):i.classList.add("scroll--isShown")}))})),s.register("92927",(function(t,e){const i=document.querySelector("#theme-button");function a(t){document.documentElement.className=t,localStorage.setItem("theme",t)}i.onclick=function(){const t=document.documentElement.classList.contains("dark")?"light":"dark";i.classList.toggle("theme-button--dark-mode"),a(t)},function(){const t=localStorage.getItem("theme");t&&a(t),"dark"===t&&i.classList.toggle("theme-button--dark-mode")}()}))}();
//# sourceMappingURL=index.2196258b.js.map
